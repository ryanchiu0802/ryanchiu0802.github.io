<?xml version="1.0" encoding="utf-8"?>
<!doctype html public "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<head>
	<title>Minesweeper</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Language" content="en-US" />
	<meta content="all" name="robots" />
	<meta name="title" content="" />
	<meta name="author" content="VincentChen" />
	<meta name="subject" content="" />
	<meta name="language" content="en-US" />
	<meta name="keywords" content="" />
	<link rel="icon" href="" type="image/x-icon" />
	<link rel="shortcut icon" href="" type="image/x-icon" /> 
	<link rel="stylesheet" href="Mine.Style.css" type="text/css" media="all"  />
	<script language="JavaScript" type="text/javascript" src="Mine.Code.js"></script>
</head>
<body>
	<script language="JavaScript">
<!-- 
f1Col='#000000';
f2Col='#7F7F7F';
d1Col='#FF0000';
d2Col='#FF8080';
sCol='#FF00FF';
mCol='#0000FF';
hCol='#00BF00';
ClockWidth=50;
ClockHeight=50;
s=7;
m=9;
h=11;
face24='06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 01 02 03 04 05';
face24=face24.split(' ');
n1=face24.length;
face12='15 20 25 30 35 40 45 50 55 0 5 10';
face12=face12.split(' ');
n2=face12.length;
p="<font face=Arial size=1 color="+f1Col+">";
p2="<font face=Arial size=1 color="+f2Col+">";
e=360/n1;
e2=360/n2
e3=360/60
HandHeight=ClockHeight/6;
HandWidth=ClockWidth/6;
y=0;
x=0;
ns6=(document.getElementById&&!document.all);
ns=(document.layers);
ie=(document.all); 
if (ns){
for (i=0; i < n1; i++)
document.write('<layer name="nshour24'+i+'" top=0 left=0 height=15 width=15><center>'+p+face24[i]+'</font></center></layer>');
for (i=0; i < n1; i++)
document.write('<layer name=nsdots1'+i+' top=0 left=0 bgcolor='+d1Col+' clip="0,0,2,2"></layer>');
for (i=0; i < n2; i++)
document.write('<layer name="nshour12'+i+'" top=0 left=0 height=15 width=15><center>'+p2+face12[i]+'</font></center></layer>');
for (i=0; i < 12; i++)
document.write('<layer name=nsdots2'+i+' top=0 left=0 bgcolor='+d2Col+' clip="0,0,2,2"></layer>');
for (i=0; i < h; i++)
document.write('<layer name=nsH'+i+' top=0 left=0 bgcolor='+hCol+' clip="0,0,2,2"></layer>');
for (i=0; i < m; i++)
document.write('<layer name=nsM'+i+' top=0 left=0 bgcolor='+mCol+' clip="0,0,2,2"></layer>');
for (i=0; i < s; i++)
document.write('<layer name=nsS'+i+' top=0 left=0 bgcolor='+sCol+' clip="0,0,2,2"></layer>');
}
if (ie||document.getElementById){
for (i=0; i < n1; i++)
document.write('<div id="hour24'+i+'" style="position:absolute;top:0px;left:0px;width:15px;height:15px;text-align:center">'+p+face24[i]+'</font></div>');
for (i=0; i < n1; i++)
document.write('<div id="dots1'+i+'" style="position:absolute;top:0px;left:0px;width:2px;height:2px;font-size:2px;background:'+d1Col+'"></div>');
for (i=0; i < n2; i++)
document.write('<div id="hour12'+i+'" style="position:absolute;top:0px;left:0px;width:15px;height:15px;text-align:center">'+p2+face12[i]+'</font></div>');
for (i=0; i < 12; i++)
document.write('<div id="dots2'+i+'" style="position:absolute;top:0px;left:0px;height:2px;width:2px;font-size:2px;background:'+d2Col+'"></div>');
for (i=0; i < h; i++)
document.write('<div id="ieH'+i+'" style="position:absolute;top:0px;left:0px;width:2px;height:2px;font-size:2px;background:'+hCol+'"></div>');
for (i=0; i < m; i++)
document.write('<div id="ieM'+i+'" style="position:absolute;top:0px;left:0px;width:2px;height:2px;font-size:2px;background:'+mCol+'"></div>');
for (i=0; i < s; i++)
document.write('<div id="ieS'+i+'" style="position:absolute;top:0px;left:0px;width:2px;height:2px;font-size:2px;background:'+sCol+'"></div>');
}
function Scroll(){
if (ns){
y=window.pageYOffset+window.innerHeight-ClockHeight*2;
x=window.pageXOffset+window.innerWidth-ClockWidth*2.3;
}
if (ns6){
y=window.pageYOffset+window.innerHeight-ClockHeight*2.1;
x=window.pageXOffset+window.innerWidth-ClockWidth*2.2;
}
if (ie){
y=document.body.scrollTop+window.document.body.clientHeight-ClockHeight*2;
x=document.body.scrollLeft+window.document.body.clientWidth-ClockWidth*2;
}
setTimeout('Scroll()',50);
}
Scroll();
function ClockAndAssign(){
time = new Date ();
secs = time.getSeconds();
sec = -1.57 + Math.PI * secs/30;
mins = time.getMinutes();
min = -1.57 + Math.PI * mins/30;
hr = time.getHours();
hrs = -1.57 + Math.PI * hr/12 + Math.PI*parseInt(time.getMinutes())/720;
for (i=0; i < s; i++){
 var cs=(ns)?document.layers['nsS'+i]:(ie)?document.all['ieS'+i].style:document.getElementById("ieS"+i).style;
 cs.top=y+(i*HandHeight)*Math.sin(sec);
 cs.left=x+(i*HandWidth)*Math.cos(sec);
}
for (i=0; i < m; i++){
 var cm=(ns)?document.layers['nsM'+i]:(ie)?document.all['ieM'+i].style:document.getElementById("ieM"+i).style;
 cm.top=y+(i*HandHeight)*Math.sin(min);
 cm.left=x+(i*HandWidth)*Math.cos(min);
}
for (i=0; i < h; i++){
 var ch=(ns)?document.layers['nsH'+i]:(ie)?document.all['ieH'+i].style:document.getElementById("ieH"+i).style;
 ch.top=y+(i*HandHeight)*Math.sin(hrs);
 ch.left=x+(i*HandWidth)*Math.cos(hrs);
}
for (i=0; i < 12; i++){
 var d2=(ns)?document.layers['nsdots2'+i]:(ie)?document.all['dots2'+i].style:document.getElementById("dots2"+i).style;
 d2.top=y + ClockHeight*Math.sin(-1.0471 + i*e2*Math.PI/180);
 d2.left=x + ClockWidth*Math.cos(-1.0471 + i*e2*Math.PI/180);
}
for (i=0; i < n2; i++){
 var h12=(ns)?document.layers['nshour12'+i]:(ie)?document.all['hour12'+i].style:document.getElementById("hour12"+i).style;
 h12.top=y-6 + ClockHeight*1.2*Math.sin(i*e2*Math.PI/180);
 h12.left=x-6 + ClockWidth*1.2*Math.cos(i*e2*Math.PI/180);
}
for (i=0; i < n1; i++){ 
 var d1=(ns)?document.layers['nsdots1'+i]:(ie)?document.all['dots1'+i].style:document.getElementById("dots1"+i).style;
 d1.top=y + ClockHeight*1.5*Math.sin(-1.0471 + i*e*Math.PI/180);
 d1.left=x + ClockWidth*1.5*Math.cos(-1.0471 + i*e*Math.PI/180);
}
for (i=0; i < n1; i++){
 var h24=(ns)?document.layers['nshour24'+i]:(ie)?document.all['hour24'+i].style:document.getElementById("hour24"+i).style;
 h24.top=y-6 + ClockHeight*1.7*Math.sin(i*e*Math.PI/180);
 h24.left=x-6 + ClockWidth*1.7*Math.cos(i*e*Math.PI/180);
}
setTimeout('ClockAndAssign()',500);
}
ClockAndAssign();
-->
</script>
	<div id="cursor" style="position:absolute; left: 0px; top: 0px; width: 100px; height: 25px; z-index:0; visibility: visible">       
<img src="figure-14.gif" ></div>
<script language="JavaScript">              
<!--              
function YY_Mousetrace(evnt) { //v1.2 copyright (c) 1998 Yaro von Flocken              
if (yyns4)              
{if (evnt.pageX) {yy_ml=evnt.pageX; yy_mt=evnt.pageY;} }              
else{              
yy_ml=(event.clientX + document.body.scrollLeft);              
yy_mt=(event.clientY + document.body.scrollTop);              
}              
if (yy_tracescript)eval(yy_tracescript)              
}              
function m()              
{              
document.all.cursor.style.left=yy_ml+10               
document.all.cursor.style.top=yy_mt+10              
}              
              
              
//-->              
</script>              
<script language="JavaScript">              
<!--              
var yyns4=window.Event?true:false; var yy_mt = 0; var yy_ml = 0;              
if (yyns4) document.captureEvents(Event.MOUSEMOVE);              
document.onmousemove = YY_Mousetrace;              
yy_tracescript = 'm()';              
//-->              
</script>
<div id="playground">
</div>
<script language="JavaScript" type="text/javascript">
<!--
	var the_row = 8,the_col = 8,the_mine = 10;
	var num_arr;
	var queryStr = document.location.search;
	//var pat = /^\?{1}row=(\d+)\&{1}col=(\d+)\&{1}mine=(\d+)$/ig;
	//regx to match the entire query string
	var pat = /\d+/ig;
	num_arr = queryStr.match(pat);
	if(num_arr != null)
	{
		the_row = num_arr[0];
		the_col = num_arr[1];
		the_mine = num_arr[2];	
	}
	startMinesweeper(the_row,the_col,the_mine);
	
	function closeWindow()
	{
		window.open('', '_self', ''); //bug fix for Chrome
		window.close();
	}
//-->
</script>
<p>
<input type="button" value="Restart!" onclick="location.href='index.html';" />
<input type="button" value="I'm tired!" onclick="javascript:closeWindow();" />
</p>
<p>
Icon Descriptions:
</p>
<table>
<tr>
	<td><img src="images/smile.gif" border="0"></td>
	<td>Take it easy and play carefully!</td>
</tr>
<tr>
	<td><img src="images/win.gif" border="0"></td>
	<td>You win! Awesome!</td>
</tr>
<tr>
	<td><class="gameover" img src="images/blast.gif" border="0" ></td>
	<td>You lose...</td>
</tr>
<tr>
	<td><img src="images/error.gif" border="0"></td>
	<td>You have tagged a wrong place.</td>
</tr>
<tr>
	<td><img src="images/flag.gif" border="0"></td>
	<td>There is a mine here.</td>
</tr>
<tr>
	<td><img src="images/bomb.gif" border="0"></td>
	<td>This is a dangerous mine!</td>
</tr>
</table>
</body>
</html>
